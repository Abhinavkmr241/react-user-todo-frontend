{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/home/abhinav/Desktop/React/react-user-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/abhinav/Desktop/React/react-user-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/abhinav/Desktop/React/react-user-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/abhinav/Desktop/React/react-user-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/abhinav/Desktop/React/react-user-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/abhinav/Desktop/React/react-user-todo/src/pages/todos-page.jsx\";\nimport React, { Component } from 'react';\nimport { Col, Container, Row, Button, Card, CardBody, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input } from 'reactstrap';\nimport { todoList, addTodo, userDetails } from '../http/http-calls';\nimport { ToastsStore } from 'react-toasts';\nimport { connect } from \"react-redux\";\nimport { showLoader as _showLoader, hideLoader as _hideLoader } from \"../redux/actions/loader-data\";\nimport { TodoElement } from \"./todos-element-page\";\n\nvar Todos = /*#__PURE__*/function (_Component) {\n  _inherits(Todos, _Component);\n\n  var _super = _createSuper(Todos);\n\n  function Todos() {\n    var _this;\n\n    _classCallCheck(this, Todos);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      message: '',\n      userName: '',\n      todoList: [],\n      selectedType: ''\n    };\n\n    _this._getTodoList = function () {\n      _this.props.showLoader();\n\n      todoList().then(function (resp) {\n        _this.props.hideLoader();\n\n        console.log(\"Todo list resp here :- \", resp);\n\n        _this.setState({\n          todoList: resp.todos\n        });\n      }).catch(function (err) {\n        _this.props.hideLoader();\n\n        ToastsStore.error(\"Todo list loading failed :- \" + err.reason);\n      });\n    };\n\n    _this._setSelectedType = function (type) {\n      if (type === \"Active\") {\n        _this.setState({\n          selectedType: \"Active\"\n        });\n      } else if (type === \"Completed\") {\n        _this.setState({\n          selectedType: \"Completed\"\n        });\n      } else {\n        _this.setState({\n          selectedType: \"All\"\n        });\n      }\n    };\n\n    _this._showTodoList = function (type) {\n      var listArray = '';\n      var todoList = _this.state.todoList;\n\n      if (todoList.length) {\n        if (type === \"Active\") {\n          listArray = todoList.map(function (todo) {\n            if (todo.isActive) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(TodoElement, {\n                  todo: todo,\n                  reload: function reload() {\n                    return _this._getTodoList();\n                  }\n                }, todo._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 17\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 15\n              }, _assertThisInitialized(_this));\n            }\n          });\n        } else if (type === \"Completed\") {\n          listArray = todoList.map(function (todo) {\n            if (!todo.isActive) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(TodoElement, {\n                  todo: todo,\n                  reload: function reload() {\n                    return _this._getTodoList();\n                  }\n                }, todo._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 17\n                }, _assertThisInitialized(_this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 15\n              }, _assertThisInitialized(_this));\n            }\n          });\n        } else {\n          listArray = todoList.map(function (todo) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(TodoElement, {\n                todo: todo,\n                reload: function reload() {\n                  return _this._getTodoList();\n                }\n              }, todo._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 15\n              }, _assertThisInitialized(_this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }, _assertThisInitialized(_this));\n          });\n        }\n      } else {\n        listArray += \"No Todo yet!!!\";\n      }\n\n      return listArray;\n    };\n\n    _this._handleOnChange = function (value) {\n      _this.setState({\n        message: value\n      });\n    };\n\n    _this._addTodo = function (e) {\n      e.preventDefault();\n      var message = _this.state.message;\n\n      if (message !== undefined && message !== null) {\n        var todoData = {\n          message: message\n        };\n\n        _this.props.showLoader();\n\n        addTodo(todoData).then(function (resp) {\n          _this.props.hideLoader();\n\n          console.log(\"Adding todo resp here :- \", resp);\n          ToastsStore.success(\"Todo added successfully...\");\n\n          _this.setState({\n            message: ''\n          });\n\n          _this._getTodoList();\n        }).catch(function (err) {\n          _this.props.hideLoader();\n\n          ToastsStore.error(\"Adding Todo failed :- \" + err.reason);\n        });\n      } else {\n        ToastsStore.error(\"No message to add!!!\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Todos, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.showLoader();\n      userDetails().then(function (resp) {\n        _this2.props.hideLoader();\n\n        console.log(\"User details resp here :- \", resp);\n\n        _this2.setState({\n          userName: resp.user.name.full\n        });\n      }).catch(function (err) {\n        _this2.props.hideLoader();\n\n        ToastsStore.error(\"User details loading failed :- \" + err.reason);\n      });\n\n      this._getTodoList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app flex-row animated fadeIn innerPagesBg\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: \"12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"addedLinksWrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center my-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"pg-title\",\n                    children: \"ToDos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"userDetails mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(CardBody, {\n                    children: this._showTodoList(this.state.selectedType)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profilePreviewWrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      children: \"Welcome \".concat(this.state.userName)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4\",\n                    children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(Label, {\n                        children: \"Message\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        type: \"text\",\n                        placeholder: \"Enter what to do...\",\n                        value: this.state.message,\n                        onChange: function onChange(e) {\n                          return _this3._handleOnChange(e.target.value);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"modalBtnSave\",\n                        onClick: function onClick(e) {\n                          return _this3._addTodo(e);\n                        },\n                        children: \"Add\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Todos;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loaderData: state.loaderData\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    showLoader: function showLoader(loaderData) {\n      return dispatch(_showLoader(loaderData));\n    },\n    hideLoader: function hideLoader(loaderData) {\n      return dispatch(_hideLoader(loaderData));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Todos);","map":{"version":3,"sources":["/home/abhinav/Desktop/React/react-user-todo/src/pages/todos-page.jsx"],"names":["React","Component","Col","Container","Row","Button","Card","CardBody","Modal","ModalHeader","ModalBody","ModalFooter","FormGroup","Label","Input","todoList","addTodo","userDetails","ToastsStore","connect","showLoader","hideLoader","TodoElement","Todos","state","message","userName","selectedType","_getTodoList","props","then","resp","console","log","setState","todos","catch","err","error","reason","_setSelectedType","type","_showTodoList","listArray","length","map","todo","isActive","_id","_handleOnChange","value","_addTodo","e","preventDefault","undefined","todoData","success","user","name","full","target","mapStateToProps","loaderData","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Col, Container, Row, Button, Card, CardBody, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input } from 'reactstrap';\nimport { todoList, addTodo, userDetails } from '../http/http-calls';\nimport { ToastsStore } from 'react-toasts';\nimport { connect } from \"react-redux\";\nimport { showLoader, hideLoader } from \"../redux/actions/loader-data\";\nimport { TodoElement } from \"./todos-element-page\";\n\nclass Todos extends Component {\n  state = {\n    message: '',\n    userName: '',\n    todoList: [],\n    selectedType: ''\n  }\n\n  componentDidMount() {\n    this.props.showLoader();\n    userDetails().then((resp) => {\n      this.props.hideLoader();\n      console.log(\"User details resp here :- \", resp);\n      this.setState({\n        userName: resp.user.name.full\n      });\n    }).catch((err) => {\n      this.props.hideLoader();\n      ToastsStore.error(\"User details loading failed :- \" + err.reason);\n    });\n    this._getTodoList();\n  }\n\n  _getTodoList = () => {\n    this.props.showLoader();\n    todoList().then((resp) => {\n      this.props.hideLoader();\n      console.log(\"Todo list resp here :- \", resp);\n      this.setState({\n        todoList: resp.todos\n      });\n    }).catch((err) => {\n      this.props.hideLoader();\n      ToastsStore.error(\"Todo list loading failed :- \" + err.reason);\n    });\n  }\n\n  _setSelectedType = (type) => {\n    if (type === \"Active\") {\n      this.setState({ selectedType: \"Active\" });\n    } else if (type === \"Completed\") {\n      this.setState({ selectedType: \"Completed\" });\n    } else {\n      this.setState({ selectedType: \"All\" });\n    }\n  }\n\n  _showTodoList = (type) => {\n    let listArray = '';\n    let { todoList } = this.state;\n    if (todoList.length) {\n      if (type === \"Active\") {\n        listArray = todoList.map((todo) => {\n          if (todo.isActive) {\n            return (\n              <div>\n                <TodoElement key={todo._id} todo={todo} reload={() => this._getTodoList()}/>\n              </div>\n            )\n          }\n        });\n      } else if (type === \"Completed\") {\n        listArray = todoList.map((todo) => {\n          if (!todo.isActive) {\n            return (\n              <div>\n                <TodoElement key={todo._id} todo={todo} reload={() => this._getTodoList()}/>\n              </div>\n            )\n          }\n        });\n      } else {\n        listArray = todoList.map((todo) => {\n          return (\n            <div>\n              <TodoElement key={todo._id} todo={todo} reload={() => this._getTodoList()}/>\n            </div>\n          )\n        });\n      }\n    } else {\n      listArray += \"No Todo yet!!!\";\n    }\n    return listArray;\n  }\n\n  _handleOnChange = (value) => {\n      this.setState({ message: value });\n  }\n\n  _addTodo = (e) => {\n    e.preventDefault();\n    const { message } = this.state;\n    if ((message !== undefined) && (message !== null)) {\n      let todoData = {\n        message: message\n      };\n      this.props.showLoader();\n      addTodo(todoData).then((resp) => {\n        this.props.hideLoader();\n        console.log(\"Adding todo resp here :- \", resp);\n        ToastsStore.success(\"Todo added successfully...\");\n        this.setState({\n          message: ''\n        });\n        this._getTodoList();\n      }).catch((err) => {\n        this.props.hideLoader();\n        ToastsStore.error(\"Adding Todo failed :- \" + err.reason);\n      });\n    } else {\n      ToastsStore.error(\"No message to add!!!\");\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"app flex-row animated fadeIn innerPagesBg\">\n        <Container>\n          <Row>\n            <Col md=\"12\">\n              <div className=\"addedLinksWrapper\">\n                <div className=\"d-flex justify-content-between align-items-center my-3\">\n                  <h4 className=\"pg-title\">ToDos</h4>\n                </div>\n\n                <Card className=\"userDetails mb-4\">\n                  <CardBody>\n                    {this._showTodoList(this.state.selectedType)}\n                  </CardBody>\n                </Card>\n              </div>\n\n              <div className=\"profilePreviewWrap\">\n                <div>\n                  <div className=\"text-center\">\n                    <h5>{`Welcome ${this.state.userName}`}</h5>\n                  </div>\n                  <div className=\"mt-4\">\n                    <FormGroup>\n                      <Label>Message</Label>\n                      <Input type=\"text\" placeholder=\"Enter what to do...\"\n                        value={this.state.message}\n                        onChange={(e) => this._handleOnChange(e.target.value)}\n                      />\n                      <Button className=\"modalBtnSave\"\n                        onClick={(e) => this._addTodo(e)}\n                      >\n                        Add\n                      </Button>\n                    </FormGroup>\n                  </div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loaderData: state.loaderData\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    showLoader: (loaderData) => dispatch(showLoader(loaderData)),\n    hideLoader: (loaderData) => dispatch(hideLoader(loaderData)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Todos);\n"]},"metadata":{},"sourceType":"module"}